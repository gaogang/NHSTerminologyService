<template>
  <lightning-card title="Medication Finder" icon-name="custom:custom14">
      <div class="slds-m-around_medium">
        <lightning-input label="Medication" value={searching} onchange={changeHandler}></lightning-input>
      </div>
      <div data-id="searchresults" class="c-container slds-hide">
        <lightning-layout multiple-rows="true">
          <lightning-layout-item padding="around-small" size="12">
              <lightning-layout>
                  <lightning-layout-item padding="around-small" size="5">
                    <div class="page-section page-main">
                      <div class="medication-type">VMT</div>
                      <div class="medication-list">
                        <template for:each={results} for:item="result">
                          <div class="medication-list-item" id={result.code} key={result.code} onclick={vtmClickHandler}>
                              <p>Code: {result.code}</p>
                              <p>Name: {result.display}</p>
                          </div>
                        </template>
                    </div>
                    </div>
                  </lightning-layout-item>
                  <lightning-layout-item padding="around-small" size="7">
                      <div class="page-section page-right">
                        <div data-id="vtmresults" class="slds-hide">
                          <div class="medication-type">VMP</div>
                          <div class="medication-list">
                            <template for:each={sel_vmp} for:item="vmp">
                              <div class="medication-list-item" id={vmp.code} key={vmp.code} onclick={vmpClickHandler}>
                                  <p>Code: {vmp.code}</p>
                                  <p>Name: {vmp.display}</p>
                              </div>
                            </template>
                          </div>
                        </div>
                        <div data-id="vmpresults" class="slds-hide">
                          <div class="medication-type">{sel_type}</div>
                          <p class="summary-heading">Name</p>
                          <div>{sel_name}</div>
                          <p class="summary-heading">Code</p>
                          <lightning-layout>
                            <lightning-layout-item>
                              <div class="field-title">SNOMED Code</div>
                            </lightning-layout-item>
                            <lightning-layout-item>
                              <div class="field">{sel_code}</div>
                            </lightning-layout-item>
                          </lightning-layout>
                          <p class="summary-heading">Unit Dose and Form Information</p>
                          <lightning-layout>
                            <lightning-layout-item>
                              <p class="field-title">DF Indicator</p>
                              <p class="field-title">UDFS Indicator</p>
                              <p class="field-title">UDFS UOM</p>
                              <p class="field-title">Unit Dose UOM</p>
                            </lightning-layout-item>
                            <lightning-layout-item>
                              <p class="field">{sel_dfi}</p>
                              <p class="field">{sel_udfs}</p>
                              <p class="field">{sel_udfs_uom}</p>
                              <p class="field">{sel_unitdose_uom}</p>
                            </lightning-layout-item>
                          </lightning-layout>
                          <p class="summary-heading">Summary</p>
                          <lightning-layout>
                            <lightning-layout-item>
                              <p class="field-title">Prescribing Status</p>
                              <p class="field-title">Controlled Drug Category</p>
                              <p class="field-title">Route</p>
                              <p class="field-title">Form</p>
                              <p class="field-title">Ontology Form / Route</p>
                              <p class="field-title">Name Basis</p>
                            </lightning-layout-item>
                            <lightning-layout-item>
                              <p class="field">{sel_prescribing_status}</p>
                              <p class="field">{sel_controlled_drug_category}</p>
                              <p class="field">{sel_route}</p>
                              <p class="field">{sel_form}</p>
                              <p class="field">{sel_ontology_form}</p>
                              <p class="field">{sel_basis}</p>
                            </lightning-layout-item>
                          </lightning-layout>
                        </div>
                      </div>
                  </lightning-layout-item>
              </lightning-layout>
          </lightning-layout-item>
        </lightning-layout>
      </div>
  </lightning-card>
</template>